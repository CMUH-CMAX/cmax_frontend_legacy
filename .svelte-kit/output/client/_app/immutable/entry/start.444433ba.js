import{o as Ce,t as _e}from"../chunks/index.2f5461f2.js";import{S as ze,a as Ge,I as q,g as qe,f as He,b as we,c as le,s as F,i as ye,d as Z,e as z,P as Fe,h as Ze}from"../chunks/singletons.29b4bc09.js";import{u as et}from"../chunks/parse.d12b0d5b.js";function tt(t,o){return t==="/"||o==="ignore"?t:o==="never"?t.endsWith("/")?t.slice(0,-1):t:o==="always"&&!t.endsWith("/")?t+"/":t}function nt(t){return t.split("%25").map(decodeURI).join("%25")}function at(t){for(const o in t)t[o]=decodeURIComponent(t[o]);return t}const rt=["href","pathname","search","searchParams","toString","toJSON"];function ot(t,o){const c=new URL(t);for(const l of rt){let f=c[l];Object.defineProperty(c,l,{get(){return o(),f},enumerable:!0,configurable:!0})}return it(c),c}function it(t){Object.defineProperty(t,"hash",{get(){throw new Error("Cannot access event.url.hash. Consider using `$page.url.hash` inside a component instead")}})}const st="/__data.json";function ct(t){return t.replace(/\/$/,"")+st}function Ve(t){try{return JSON.parse(sessionStorage[t])}catch{}}function Je(t,o){const c=JSON.stringify(o);try{sessionStorage[t]=c}catch{}}function lt(...t){let o=5381;for(const c of t)if(typeof c=="string"){let l=c.length;for(;l;)o=o*33^c.charCodeAt(--l)}else if(ArrayBuffer.isView(c)){const l=new Uint8Array(c.buffer,c.byteOffset,c.byteLength);let f=l.length;for(;f;)o=o*33^l[--f]}else throw new TypeError("value must be a string or TypedArray");return(o>>>0).toString(36)}const fe=window.fetch;window.fetch=(t,o)=>((t instanceof Request?t.method:(o==null?void 0:o.method)||"GET")!=="GET"&&te.delete(Se(t)),fe(t,o));const te=new Map;function ft(t,o){const c=Se(t,o),l=document.querySelector(c);if(l!=null&&l.textContent){const{body:f,...w}=JSON.parse(l.textContent),x=l.getAttribute("data-ttl");return x&&te.set(c,{body:f,init:w,ttl:1e3*Number(x)}),Promise.resolve(new Response(f,w))}return fe(t,o)}function ut(t,o,c){if(te.size>0){const l=Se(t,c),f=te.get(l);if(f){if(performance.now()<f.ttl&&["default","force-cache","only-if-cached",void 0].includes(c==null?void 0:c.cache))return new Response(f.body,f.init);te.delete(l)}}return fe(o,c)}function Se(t,o){let l=`script[data-sveltekit-fetched][data-url=${JSON.stringify(t instanceof Request?t.url:t)}]`;if(o!=null&&o.headers||o!=null&&o.body){const f=[];o.headers&&f.push([...new Headers(o.headers)].join(",")),o.body&&(typeof o.body=="string"||ArrayBuffer.isView(o.body))&&f.push(o.body),l+=`[data-hash="${lt(...f)}"]`}return l}const dt=/^(\[)?(\.\.\.)?(\w+)(?:=(\w+))?(\])?$/;function pt(t){const o=[];return{pattern:t==="/"?/^\/$/:new RegExp(`^${mt(t).map(l=>{const f=/^\[\.\.\.(\w+)(?:=(\w+))?\]$/.exec(l);if(f)return o.push({name:f[1],matcher:f[2],optional:!1,rest:!0,chained:!0}),"(?:/(.*))?";const w=/^\[\[(\w+)(?:=(\w+))?\]\]$/.exec(l);if(w)return o.push({name:w[1],matcher:w[2],optional:!0,rest:!1,chained:!0}),"(?:/([^/]+))?";if(!l)return;const x=l.split(/\[(.+?)\](?!\])/);return"/"+x.map((b,E)=>{if(E%2){if(b.startsWith("x+"))return ve(String.fromCharCode(parseInt(b.slice(2),16)));if(b.startsWith("u+"))return ve(String.fromCharCode(...b.slice(2).split("-").map($=>parseInt($,16))));const m=dt.exec(b);if(!m)throw new Error(`Invalid param: ${b}. Params and matcher names can only have underscores and alphanumeric characters.`);const[,C,j,T,U]=m;return o.push({name:T,matcher:U,optional:!!C,rest:!!j,chained:j?E===1&&x[0]==="":!1}),j?"(.*?)":C?"([^/]*)?":"([^/]+?)"}return ve(b)}).join("")}).join("")}/?$`),params:o}}function ht(t){return!/^\([^)]+\)$/.test(t)}function mt(t){return t.slice(1).split("/").filter(ht)}function gt(t,o,c){const l={},f=t.slice(1);let w=0;for(let x=0;x<o.length;x+=1){const v=o[x],b=f[x-w];if(v.chained&&v.rest&&w){l[v.name]=f.slice(x-w,x+1).filter(E=>E).join("/"),w=0;continue}if(b===void 0){v.rest&&(l[v.name]="");continue}if(!v.matcher||c[v.matcher](b)){l[v.name]=b;const E=o[x+1],m=f[x+1];E&&!E.rest&&E.optional&&m&&(w=0);continue}if(v.optional&&v.chained){w++;continue}return}if(!w)return l}function ve(t){return t.normalize().replace(/[[\]]/g,"\\$&").replace(/%/g,"%25").replace(/\//g,"%2[Ff]").replace(/\?/g,"%3[Ff]").replace(/#/g,"%23").replace(/[.*+?^${}()|\\]/g,"\\$&")}function _t({nodes:t,server_loads:o,dictionary:c,matchers:l}){const f=new Set(o);return Object.entries(c).map(([v,[b,E,m]])=>{const{pattern:C,params:j}=pt(v),T={id:v,exec:U=>{const $=C.exec(U);if($)return gt($,j,l)},errors:[1,...m||[]].map(U=>t[U]),layouts:[0,...E||[]].map(x),leaf:w(b)};return T.errors.length=T.layouts.length=Math.max(T.errors.length,T.layouts.length),T});function w(v){const b=v<0;return b&&(v=~v),[b,t[v]]}function x(v){return v===void 0?v:[f.has(v),t[v]]}}let ee=class{constructor(o,c){this.status=o,typeof c=="string"?this.body={message:c}:c?this.body=c:this.body={message:`Error: ${o}`}}toString(){return JSON.stringify(this.body)}},Ke=class{constructor(o,c){this.status=o,this.location=c}};async function wt(t){var o;for(const c in t)if(typeof((o=t[c])==null?void 0:o.then)=="function")return Object.fromEntries(await Promise.all(Object.entries(t).map(async([l,f])=>[l,await f])));return t}function xe(t){const o=new Set(t);function c(l,f){if(l)for(const w in l){if(w[0]==="_"||o.has(w))continue;const x=yt(w,f==null?void 0:f.slice(f.lastIndexOf(".")))??`valid exports are ${t.join(", ")}, or anything with a '_' prefix`;throw new Error(`Invalid export '${w}'${f?` in ${f}`:""} (${x})`)}}return c}function yt(t,o=".js"){let c=[];if(Be.includes(t)&&c.push(`+page${o}`),We.includes(t)&&c.push(`+page.server${o}`),Ye.includes(t)&&c.push(`+server${o}`),c.length>0)return`'${t}' is a valid export in ${c.join(" or ")}`}const Be=["load","prerender","csr","ssr","trailingSlash","config"],We=["load","prerender","csr","ssr","actions","trailingSlash","config"],Ye=["GET","POST","PATCH","PUT","DELETE","OPTIONS","prerender","trailingSlash","config"];xe(Be);xe(We);xe(Ye);function vt(t){return t.filter(o=>o!=null)}const G=Ve(ze)??{},Q=Ve(Ge)??{};function be(t){G[t]=Z()}function bt(t,o){var je;const c=_t(t),l=t.nodes[0],f=t.nodes[1];l(),f();const w=document.documentElement,x=[],v=[];let b=null;const E={before_navigate:[],after_navigate:[]};let m={branch:[],error:null,url:null},C=!1,j=!1,T=!0,U=!1,$=!1,V=!1,J=!1,H,O=(je=history.state)==null?void 0:je[q];O||(O=Date.now(),history.replaceState({...history.state,[q]:O},"",location.href));const ue=G[O];ue&&(history.scrollRestoration="manual",scrollTo(ue.x,ue.y));let K,ne,ae;async function ke(){ae=ae||Promise.resolve(),await ae,ae=null;const e=new URL(location.href),n=Y(e,!0);b=null;const r=ne={},a=n&&await he(n);if(r===ne&&a){if(a.type==="redirect")return re(new URL(a.location,e).href,{},[e.pathname],r);H.$set(a.props)}}function Re(e){v.some(n=>n==null?void 0:n.snapshot)&&(Q[e]=v.map(n=>{var r;return(r=n==null?void 0:n.snapshot)==null?void 0:r.capture()}))}function Le(e){var n;(n=Q[e])==null||n.forEach((r,a)=>{var s,i;(i=(s=v[a])==null?void 0:s.snapshot)==null||i.restore(r)})}function Pe(){be(O),Je(ze,G),Re(O),Je(Ge,Q)}async function re(e,{noScroll:n=!1,replaceState:r=!1,keepFocus:a=!1,state:s={},invalidateAll:i=!1},u,d){return typeof e=="string"&&(e=new URL(e,qe(document))),ce({url:e,scroll:n?Z():null,keepfocus:a,redirect_chain:u,details:{state:s,replaceState:r},nav_token:d,accepted:()=>{i&&(J=!0)},blocked:()=>{},type:"goto"})}async function $e(e){return b={id:e.id,promise:he(e).then(n=>(n.type==="loaded"&&n.state.error&&(b=null),n))},b.promise}async function oe(...e){const r=c.filter(a=>e.some(s=>a.exec(s))).map(a=>Promise.all([...a.layouts,a.leaf].map(s=>s==null?void 0:s[1]())));await Promise.all(r)}function Ue(e){var a;m=e.state;const n=document.querySelector("style[data-sveltekit]");n&&n.remove(),K=e.props.page,H=new t.root({target:o,props:{...e.props,stores:F,components:v},hydrate:!0}),Le(O);const r={from:null,to:{params:m.params,route:{id:((a=m.route)==null?void 0:a.id)??null},url:new URL(location.href)},willUnload:!1,type:"enter"};E.after_navigate.forEach(s=>s(r)),j=!0}async function W({url:e,params:n,branch:r,status:a,error:s,route:i,form:u}){let d="never";for(const g of r)(g==null?void 0:g.slash)!==void 0&&(d=g.slash);e.pathname=tt(e.pathname,d),e.search=e.search;const _={type:"loaded",state:{url:e,params:n,branch:r,error:s,route:i},props:{constructors:vt(r).map(g=>g.node.component)}};u!==void 0&&(_.props.form=u);let p={},S=!K,L=0;for(let g=0;g<Math.max(r.length,m.branch.length);g+=1){const h=r[g],A=m.branch[g];(h==null?void 0:h.data)!==(A==null?void 0:A.data)&&(S=!0),h&&(p={...p,...h.data},S&&(_.props[`data_${L}`]=p),L+=1)}return(!m.url||e.href!==m.url.href||m.error!==s||u!==void 0&&u!==K.form||S)&&(_.props.page={error:s,params:n,route:{id:(i==null?void 0:i.id)??null},status:a,url:new URL(e),form:u??null,data:S?p:K.data}),_}async function de({loader:e,parent:n,url:r,params:a,route:s,server_data_node:i}){var p,S,L;let u=null;const d={dependencies:new Set,params:new Set,parent:!1,route:!1,url:!1},_=await e();if((p=_.universal)!=null&&p.load){let P=function(...h){for(const A of h){const{href:D}=new URL(A,r);d.dependencies.add(D)}};const g={route:{get id(){return d.route=!0,s.id}},params:new Proxy(a,{get:(h,A)=>(d.params.add(A),h[A])}),data:(i==null?void 0:i.data)??null,url:ot(r,()=>{d.url=!0}),async fetch(h,A){let D;h instanceof Request?(D=h.url,A={body:h.method==="GET"||h.method==="HEAD"?void 0:await h.blob(),cache:h.cache,credentials:h.credentials,headers:h.headers,integrity:h.integrity,keepalive:h.keepalive,method:h.method,mode:h.mode,redirect:h.redirect,referrer:h.referrer,referrerPolicy:h.referrerPolicy,signal:h.signal,...A}):D=h;const N=new URL(D,r);return P(N.href),N.origin===r.origin&&(D=N.href.slice(r.origin.length)),j?ut(D,N.href,A):ft(D,A)},setHeaders:()=>{},depends:P,parent(){return d.parent=!0,n()}};u=await _.universal.load.call(null,g)??null,u=u?await wt(u):null}return{node:_,loader:e,server:i,universal:(S=_.universal)!=null&&S.load?{type:"data",data:u,uses:d}:null,data:u??(i==null?void 0:i.data)??null,slash:((L=_.universal)==null?void 0:L.trailingSlash)??(i==null?void 0:i.slash)}}function Oe(e,n,r,a,s){if(J)return!0;if(!a)return!1;if(a.parent&&e||a.route&&n||a.url&&r)return!0;for(const i of a.params)if(s[i]!==m.params[i])return!0;for(const i of a.dependencies)if(x.some(u=>u(new URL(i))))return!0;return!1}function pe(e,n){return(e==null?void 0:e.type)==="data"?e:(e==null?void 0:e.type)==="skip"?n??null:null}async function he({id:e,invalidating:n,url:r,params:a,route:s}){if((b==null?void 0:b.id)===e)return b.promise;const{errors:i,layouts:u,leaf:d}=s,_=[...u,d];i.forEach(y=>y==null?void 0:y().catch(()=>{})),_.forEach(y=>y==null?void 0:y[1]().catch(()=>{}));let p=null;const S=m.url?e!==m.url.pathname+m.url.search:!1,L=m.route?s.id!==m.route.id:!1;let P=!1;const g=_.map((y,R)=>{var M;const k=m.branch[R],I=!!(y!=null&&y[0])&&((k==null?void 0:k.loader)!==y[1]||Oe(P,L,S,(M=k.server)==null?void 0:M.uses,a));return I&&(P=!0),I});if(g.some(Boolean)){try{p=await Me(r,g)}catch(y){return ie({status:y instanceof ee?y.status:500,error:await X(y,{url:r,params:a,route:{id:s.id}}),url:r,route:s})}if(p.type==="redirect")return p}const h=p==null?void 0:p.nodes;let A=!1;const D=_.map(async(y,R)=>{var me;if(!y)return;const k=m.branch[R],I=h==null?void 0:h[R];if((!I||I.type==="skip")&&y[1]===(k==null?void 0:k.loader)&&!Oe(A,L,S,(me=k.universal)==null?void 0:me.uses,a))return k;if(A=!0,(I==null?void 0:I.type)==="error")throw I;return de({loader:y[1],url:r,params:a,route:s,parent:async()=>{var Ne;const De={};for(let ge=0;ge<R;ge+=1)Object.assign(De,(Ne=await D[ge])==null?void 0:Ne.data);return De},server_data_node:pe(I===void 0&&y[0]?{type:"skip"}:I??null,y[0]?k==null?void 0:k.server:void 0)})});for(const y of D)y.catch(()=>{});const N=[];for(let y=0;y<_.length;y+=1)if(_[y])try{N.push(await D[y])}catch(R){if(R instanceof Ke)return{type:"redirect",location:R.location};let k=500,I;if(h!=null&&h.includes(R))k=R.status??k,I=R.error;else if(R instanceof ee)k=R.status,I=R.body;else{if(await F.updated.check())return await B(r);I=await X(R,{params:a,url:r,route:{id:s.id}})}const M=await Ae(y,N,i);return M?await W({url:r,params:a,branch:N.slice(0,M.idx).concat(M.node),status:k,error:I,route:s}):await Ie(r,{id:s.id},I,k)}else N.push(void 0);return await W({url:r,params:a,branch:N,status:200,error:null,route:s,form:n?void 0:null})}async function Ae(e,n,r){for(;e--;)if(r[e]){let a=e;for(;!n[a];)a-=1;try{return{idx:a+1,node:{node:await r[e](),loader:r[e],data:{},server:null,universal:null}}}catch{continue}}}async function ie({status:e,error:n,url:r,route:a}){const s={};let i=null;if(t.server_loads[0]===0)try{const p=await Me(r,[!0]);if(p.type!=="data"||p.nodes[0]&&p.nodes[0].type!=="data")throw 0;i=p.nodes[0]??null}catch{(r.origin!==location.origin||r.pathname!==location.pathname||C)&&await B(r)}const d=await de({loader:l,url:r,params:s,route:a,parent:()=>Promise.resolve({}),server_data_node:pe(i)}),_={node:await f(),loader:f,universal:null,server:null,data:null};return await W({url:r,params:s,branch:[d,_],status:e,error:n,route:null})}function Y(e,n){if(ye(e,z))return;const r=se(e);for(const a of c){const s=a.exec(r);if(s)return{id:e.pathname+e.search,invalidating:n,route:a,params:at(s),url:e}}}function se(e){return nt(e.pathname.slice(z.length)||"/")}function Te({url:e,type:n,intent:r,delta:a}){var d,_;let s=!1;const i={from:{params:m.params,route:{id:((d=m.route)==null?void 0:d.id)??null},url:m.url},to:{params:(r==null?void 0:r.params)??null,route:{id:((_=r==null?void 0:r.route)==null?void 0:_.id)??null},url:e},willUnload:!r,type:n};a!==void 0&&(i.delta=a);const u={...i,cancel:()=>{s=!0}};return $||E.before_navigate.forEach(p=>p(u)),s?null:i}async function ce({url:e,scroll:n,keepfocus:r,redirect_chain:a,details:s,type:i,delta:u,nav_token:d={},accepted:_,blocked:p}){var D,N,y;const S=Y(e,!1),L=Te({url:e,type:i,delta:u,intent:S});if(!L){p();return}const P=O;_(),$=!0,j&&F.navigating.set(L),ne=d;let g=S&&await he(S);if(!g){if(ye(e,z))return await B(e);g=await Ie(e,{id:null},await X(new Error(`Not found: ${e.pathname}`),{url:e,params:{},route:{id:null}}),404)}if(e=(S==null?void 0:S.url)||e,ne!==d)return!1;if(g.type==="redirect")if(a.length>10||a.includes(e.pathname))g=await ie({status:500,error:await X(new Error("Redirect loop"),{url:e,params:{},route:{id:null}}),url:e,route:{id:null}});else return re(new URL(g.location,e).href,{},[...a,e.pathname],d),!1;else((D=g.props.page)==null?void 0:D.status)>=400&&await F.updated.check()&&await B(e);if(x.length=0,J=!1,U=!0,be(P),Re(P),(N=g.props.page)!=null&&N.url&&g.props.page.url.pathname!==e.pathname&&(e.pathname=(y=g.props.page)==null?void 0:y.url.pathname),s){const R=s.replaceState?0:1;if(s.state[q]=O+=R,history[s.replaceState?"replaceState":"pushState"](s.state,"",e),!s.replaceState){let k=O+1;for(;Q[k]||G[k];)delete Q[k],delete G[k],k+=1}}b=null,j?(m=g.state,g.props.page&&(g.props.page.url=e),H.$set(g.props)):Ue(g);const{activeElement:h}=document;if(await _e(),T){const R=e.hash&&document.getElementById(decodeURIComponent(e.hash.slice(1)));n?scrollTo(n.x,n.y):R?R.scrollIntoView():scrollTo(0,0)}const A=document.activeElement!==h&&document.activeElement!==document.body;!r&&!A&&await Ee(),T=!0,g.props.page&&(K=g.props.page),$=!1,E.after_navigate.forEach(R=>R(L)),F.navigating.set(null),U=!1}async function Ie(e,n,r,a){return e.origin===location.origin&&e.pathname===location.pathname&&!C?await ie({status:a,error:r,url:e,route:n}):await B(e)}function B(e){return location.href=e.href,new Promise(()=>{})}function Qe(){let e;w.addEventListener("mousemove",i=>{const u=i.target;clearTimeout(e),e=setTimeout(()=>{a(u,2)},20)});function n(i){a(i.composedPath()[0],1)}w.addEventListener("mousedown",n),w.addEventListener("touchstart",n,{passive:!0});const r=new IntersectionObserver(i=>{for(const u of i)u.isIntersecting&&(oe(se(new URL(u.target.href))),r.unobserve(u.target))},{threshold:0});function a(i,u){const d=He(i,w);if(!d)return;const{url:_,external:p,download:S}=we(d,z);if(p||S)return;const L=le(d);if(!L.reload)if(u<=L.preload_data){const P=Y(_,!1);P&&$e(P)}else u<=L.preload_code&&oe(se(_))}function s(){r.disconnect();for(const i of w.querySelectorAll("a")){const{url:u,external:d,download:_}=we(i,z);if(d||_)continue;const p=le(i);p.reload||(p.preload_code===Fe.viewport&&r.observe(i),p.preload_code===Fe.eager&&oe(se(u)))}}E.after_navigate.push(s),s()}function X(e,n){return e instanceof ee?e.body:t.hooks.handleError({error:e,event:n})??{message:n.route.id!=null?"Internal Error":"Not Found"}}return{after_navigate:e=>{Ce(()=>(E.after_navigate.push(e),()=>{const n=E.after_navigate.indexOf(e);E.after_navigate.splice(n,1)}))},before_navigate:e=>{Ce(()=>(E.before_navigate.push(e),()=>{const n=E.before_navigate.indexOf(e);E.before_navigate.splice(n,1)}))},disable_scroll_handling:()=>{(U||!j)&&(T=!1)},goto:(e,n={})=>re(e,n,[]),invalidate:e=>{if(typeof e=="function")x.push(e);else{const{href:n}=new URL(e,location.href);x.push(r=>r.href===n)}return ke()},invalidateAll:()=>(J=!0,ke()),preload_data:async e=>{const n=new URL(e,qe(document)),r=Y(n,!1);if(!r)throw new Error(`Attempted to preload a URL that does not belong to this app: ${n}`);await $e(r)},preload_code:oe,apply_action:async e=>{if(e.type==="error"){const n=new URL(location.href),{branch:r,route:a}=m;if(!a)return;const s=await Ae(m.branch.length,r,a.errors);if(s){const i=await W({url:n,params:m.params,branch:r.slice(0,s.idx).concat(s.node),status:e.status??500,error:e.error,route:a});m=i.state,H.$set(i.props),_e().then(Ee)}}else e.type==="redirect"?re(e.location,{invalidateAll:!0},[]):(H.$set({form:null,page:{...K,form:e.data,status:e.status}}),await _e(),H.$set({form:e.data}),e.type==="success"&&Ee())},_start_router:()=>{var e;history.scrollRestoration="manual",addEventListener("beforeunload",n=>{var a;let r=!1;if(Pe(),!$){const s={from:{params:m.params,route:{id:((a=m.route)==null?void 0:a.id)??null},url:m.url},to:null,willUnload:!0,type:"leave",cancel:()=>r=!0};E.before_navigate.forEach(i=>i(s))}r?(n.preventDefault(),n.returnValue=""):history.scrollRestoration="auto"}),addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&Pe()}),(e=navigator.connection)!=null&&e.saveData||Qe(),w.addEventListener("click",n=>{if(n.button||n.which!==1||n.metaKey||n.ctrlKey||n.shiftKey||n.altKey||n.defaultPrevented)return;const r=He(n.composedPath()[0],w);if(!r)return;const{url:a,external:s,target:i,download:u}=we(r,z);if(!a)return;if(i==="_parent"||i==="_top"){if(window.parent!==window)return}else if(i&&i!=="_self")return;const d=le(r);if(!(r instanceof SVGAElement)&&a.protocol!==location.protocol&&!(a.protocol==="https:"||a.protocol==="http:")||u)return;if(s||d.reload){Te({url:a,type:"link"})?$=!0:n.preventDefault();return}const[p,S]=a.href.split("#");if(S!==void 0&&p===location.href.split("#")[0]){if(V=!0,be(O),m.url=a,F.page.set({...K,url:a}),F.page.notify(),!d.replace_state)return;V=!1,n.preventDefault()}ce({url:a,scroll:d.noscroll?Z():null,keepfocus:d.keep_focus??!1,redirect_chain:[],details:{state:{},replaceState:d.replace_state??a.href===location.href},accepted:()=>n.preventDefault(),blocked:()=>n.preventDefault(),type:"link"})}),w.addEventListener("submit",n=>{if(n.defaultPrevented)return;const r=HTMLFormElement.prototype.cloneNode.call(n.target),a=n.submitter;if(((a==null?void 0:a.formMethod)||r.method)!=="get")return;const i=new URL((a==null?void 0:a.hasAttribute("formaction"))&&(a==null?void 0:a.formAction)||r.action);if(ye(i,z))return;const u=n.target,{keep_focus:d,noscroll:_,reload:p,replace_state:S}=le(u);if(p)return;n.preventDefault(),n.stopPropagation();const L=new FormData(u),P=a==null?void 0:a.getAttribute("name");P&&L.append(P,(a==null?void 0:a.getAttribute("value"))??""),i.search=new URLSearchParams(L).toString(),ce({url:i,scroll:_?Z():null,keepfocus:d??!1,redirect_chain:[],details:{state:{},replaceState:S??i.href===location.href},nav_token:{},accepted:()=>{},blocked:()=>{},type:"form"})}),addEventListener("popstate",async n=>{var r;if((r=n.state)!=null&&r[q]){if(n.state[q]===O)return;const a=G[n.state[q]];if(m.url.href.split("#")[0]===location.href.split("#")[0]){G[O]=Z(),O=n.state[q],scrollTo(a.x,a.y);return}const s=n.state[q]-O;let i=!1;await ce({url:new URL(location.href),scroll:a,keepfocus:!1,redirect_chain:[],details:null,accepted:()=>{O=n.state[q]},blocked:()=>{history.go(-s),i=!0},type:"popstate",delta:s}),i||Le(O)}}),addEventListener("hashchange",()=>{V&&(V=!1,history.replaceState({...history.state,[q]:++O},"",location.href))});for(const n of document.querySelectorAll("link"))n.rel==="icon"&&(n.href=n.href);addEventListener("pageshow",n=>{n.persisted&&F.navigating.set(null)})},_hydrate:async({status:e=200,error:n,node_ids:r,params:a,route:s,data:i,form:u})=>{C=!0;const d=new URL(location.href);({params:a={},route:s={id:null}}=Y(d,!1)||{});let _;try{const p=r.map(async(S,L)=>{const P=i[L];return P!=null&&P.uses&&(P.uses=Xe(P.uses)),de({loader:t.nodes[S],url:d,params:a,route:s,parent:async()=>{const g={};for(let h=0;h<L;h+=1)Object.assign(g,(await p[h]).data);return g},server_data_node:pe(P)})});_=await W({url:d,params:a,branch:await Promise.all(p),status:e,error:n,form:u,route:c.find(({id:S})=>S===s.id)??null})}catch(p){if(p instanceof Ke){await B(new URL(p.location,location.href));return}_=await ie({status:p instanceof ee?p.status:500,error:await X(p,{url:d,params:a,route:s}),url:d,route:s})}Ue(_)}}}async function Me(t,o){const c=new URL(t);c.pathname=ct(t.pathname),c.searchParams.append("x-sveltekit-invalidated",o.map(f=>f?"1":"").join("_"));const l=await fe(c.href);if(!l.ok)throw new ee(l.status,await l.json());return new Promise(async f=>{var m;const w=new Map,x=l.body.getReader(),v=new TextDecoder;function b(C){return et(C,{Promise:j=>new Promise((T,U)=>{w.set(j,{fulfil:T,reject:U})})})}let E="";for(;;){const{done:C,value:j}=await x.read();if(C&&!E)break;for(E+=!j&&E?`
`:v.decode(j);;){const T=E.indexOf(`
`);if(T===-1)break;const U=JSON.parse(E.slice(0,T));if(E=E.slice(T+1),U.type==="redirect")return f(U);if(U.type==="data")(m=U.nodes)==null||m.forEach($=>{($==null?void 0:$.type)==="data"&&($.uses=Xe($.uses),$.data=b($.data))}),f(U);else if(U.type==="chunk"){const{id:$,data:V,error:J}=U,H=w.get($);w.delete($),J?H.reject(b(J)):H.fulfil(b(V))}}}})}function Xe(t){return{dependencies:new Set((t==null?void 0:t.dependencies)??[]),params:new Set((t==null?void 0:t.params)??[]),parent:!!(t!=null&&t.parent),route:!!(t!=null&&t.route),url:!!(t!=null&&t.url)}}function Ee(){const t=document.querySelector("[autofocus]");if(t)t.focus();else{const o=document.body,c=o.getAttribute("tabindex");return o.tabIndex=-1,o.focus({preventScroll:!0}),c!==null?o.setAttribute("tabindex",c):o.removeAttribute("tabindex"),new Promise(l=>{setTimeout(()=>{var f;l((f=getSelection())==null?void 0:f.removeAllRanges())})})}}async function Lt(t,o,c){const l=bt(t,o);Ze({client:l}),c?await l._hydrate(c):l.goto(location.href,{replaceState:!0}),l._start_router()}export{Lt as start};
